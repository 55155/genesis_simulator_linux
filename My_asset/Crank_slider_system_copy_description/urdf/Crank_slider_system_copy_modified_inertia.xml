<mujoco model="Crank_slider_system_copy">
  <compiler angle="radian"/>

  <asset>
    <mesh name="base_link" content_type="model/stl" file="base_link.stl" scale="0.001 0.001 0.001"/>
    <mesh name="braket1_1" content_type="model/stl" file="braket1_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="braket2_1" content_type="model/stl" file="braket2_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="motor_1" content_type="model/stl" file="motor_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="motor_shaft_1" content_type="model/stl" file="motor_shaft_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Link1_1" content_type="model/stl" file="Link1_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Link2_1" content_type="model/stl" file="Link2_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Link3_1" content_type="model/stl" file="Link3_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Shaft_1" content_type="model/stl" file="Shaft_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Impact_Plate_1" content_type="model/stl" file="Impact_Plate_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Slider_jig_1" content_type="model/stl" file="Slider_jig_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Wall_1" content_type="model/stl" file="Wall_1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="Slider1_1" content_type="model/stl" file="Slider1_1.stl" scale="0.001 0.001 0.001"/>
  </asset>
  
  <actuator>
    <motor joint="Revolute 47" ctrlrange="-1 1" ctrllimited="true"/>
    <motor joint="Revolute 49" ctrlrange="-1 1" ctrllimited="true"/>
    <motor joint="Revolute 50" ctrlrange="-1 1" ctrllimited="true"/>
    <motor joint="Slider 60" ctrlrange="-100 100" ctrllimited="true"/>
  </actuator>


  <worldbody>
    
    <geom type="mesh" mesh="base_link"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="braket1_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="braket2_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="motor_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Slider_jig_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Wall_1"/>
    <!--<geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="motor_shaft_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Link1_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Link2_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Link3_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Shaft_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Impact_Plate_1"/>
    <geom type="mesh" rgba="0.7 0.7 0.7 1" mesh="Slider1_1"/>-->

    
    <body name="motor_shaft_1" pos="0.11 0.05 -0.163">
      <inertial pos="0.0272456 0 -0.00387279" quat="0.438592 0.554651 0.554651 0.438592" mass="0.0393299" diaginertia="8.01969e-06 7.70194e-06 2.31775e-06"/>
      <joint name="Revolute 47" pos="0 0 0" axis="0 0 1"/>
      <geom pos="-0.11 -0.05 0.163" type="mesh" rgba="0.7 0.7 0.7 1" mesh="motor_shaft_1"/>
      <geom pos="-0.11 -0.05 0.163" quat="1 0 0 0" type="mesh" rgba="0.7 0.7 0.7 1" mesh="Link1_1"/>
      <body name="Link2_1" pos="0.02 0 0.0195">
        <inertial pos="0.047 0 0.005" quat="0 0.707107 0 0.707107" mass="0.168204" diaginertia="0.000169 0.000165 7e-06"/>
        <joint name="Revolute 49" pos="0 0 0" axis="0 0 -1"/>
        <geom pos="-0.13 -0.05 0.1435" quat="1 0 0 0" type="mesh" rgba="0.7 0.7 0.7 1" mesh="Link2_1"/>
        <body name="Link3_1" pos="0.094 0 0">
          <inertial pos="0.107601 0.000552018 -0.00489777" quat="-0.0444871 0.705951 -0.0567919 0.704577" mass="0.246508" diaginertia="0.000622255 0.000617747 8.85601e-05"/>
          <joint name="Revolute 50" pos="0 0 0" axis="0 0 -1"/>
          <geom pos="-0.224 -0.05 0.1435" quat="1 0 0 0" type="mesh" rgba="0.7 0.7 0.7 1" mesh="Link3_1"/>
          <geom pos="-0.224 -0.05 0.1435" quat="1 0 0 0" type="mesh" rgba="0.7 0.7 0.7 1" mesh="Shaft_1"/>
          <geom pos="-0.224 -0.05 0.1435" type="mesh" rgba="0.7 0.7 0.7 1" mesh="Impact_Plate_1"/>
          <body name="Slider1_1" pos="0.0375 0 -0.005">
            <inertial pos="0.014 0.0091867 -0.0118908" quat="0.5 0.5 0.5 0.5" mass="0.182667" diaginertia="4.7e-05 3.3e-05 2.4e-05"/>
            <joint name="Slider 60" pos="0 0 0" axis="-1 0 0" type="slide" range="-0.02 0.02" actuatorfrcrange="-100 100"/>
            <geom pos="-0.269 -0.043 0.1355" quat="1 0 0 0" type="mesh" rgba="0.7 0.7 0.7 1" mesh="Slider1_1"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>
  <equality>
    <!-- Couple hinge angle (Revolute 47) to slider position (Slider 60).
         Mapping: q_slider = 0.02 - (0.04/pi) * q_hinge -->
    <joint joint1="Revolute 47" joint2="Slider 60" polycoef="0.02 -0.012732395447351628 0 0 0"/>
  </equality>
</mujoco>
